!function(i){if("undefined"!=typeof wcpbc_settings_edit_zone_params){i(".-container-country-select .button.-select-all").on("click",function(t){t.preventDefault(),i(this).closest(".-container-country-select").find("select option").prop("selected",!0),i(this).closest(".-container-country-select").find("select").trigger("change")}),i(".-container-country-select .button.-select-none").on("click",function(t){t.preventDefault(),i(this).closest(".-container-country-select").find("select option").prop("selected",!1),i(this).closest(".-container-country-select").find("select").trigger("change")}),i(".-container-country-select .button.-select-eur").on("click",function(t){t.preventDefault(),!wcpbc_settings_edit_zone_params.eur_countries instanceof Array||(i(this).closest(".-container-country-select").find("select option").each(function(t,e){-1<wcpbc_settings_edit_zone_params.eur_countries.indexOf(i(e).attr("value"))&&i(e).prop("selected",!0)}),i(this).closest(".-container-country-select").find("select").trigger("change"))}),i(".-container-country-select .button.-select-eur-none").on("click",function(t){t.preventDefault(),!wcpbc_settings_edit_zone_params.eur_countries instanceof Array||(i(this).closest(".-container-country-select").find("select option").each(function(t,e){-1<wcpbc_settings_edit_zone_params.eur_countries.indexOf(i(e).attr("value"))&&i(e).prop("selected",!1)}),i(this).closest(".-container-country-select").find("select").trigger("change"))}),i("select#currency").on("change",function(){i(".-container-exchange_rate span.wcpbc-input-append").text(i(this).val())}),i("input#name").on("keyup",function(){var t=i(this).val();i(".wcpbc-settings-section-container.-heading .wcpbc-zone-name").text(t||"Zone")});const e={target:null,not_allowed:[],validate:function(){try{const t=e;t.not_allowed=t.target.val().filter(function(t){return wcpbc_settings_edit_zone_params.allowed_countries.indexOf(t)<0}),t.not_allowed.length?t.show():t.remove()}catch(t){console.log(t)}},remove:function(){i("#wcpbc-allowed-countries-warning").length&&i("#wcpbc-allowed-countries-warning").remove()},show:function(){const t=this.target.closest("div.wcpbc-input-container"),e=(t.find("#wcpbc-allowed-countries-warning").length||t.append('<div id="wcpbc-allowed-countries-warning"></div>'),t.find("#wcpbc-allowed-countries-warning")),n="allowed-countries-warning-"+(1<this.not_allowed.length?"plural":"singular"),c=wp.template(n);e.html(c({countries:this.get_countries_names()})),i(document.body).trigger("init_tooltips")},get_countries_names:function(){const e=[];this.not_allowed.forEach(t=>{e.push(this.target.find(`option[value="${t}"]`).text())});var t=e.pop();return e.length?this.truncate(e.join(", ")+` ${wcpbc_settings_edit_zone_params.i18n.and} `+t):t},truncate:function(t){return 100<t.length?t.substring(0,100)+"...":t},init:function(){if(!Array.isArray(wcpbc_settings_edit_zone_params.allowed_countries))return!1;this.target=i("select#countries"),this.target.on("change",this.validate),this.validate()}};e.init()}}(jQuery);